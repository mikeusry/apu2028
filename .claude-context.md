# Ayn Parker Usry - Softball Recruiting Site

## Project Overview
Single-page softball recruiting website for Ayn Parker Usry (Class of 2028 outfielder).

**Tech Stack:** Astro + Tailwind CSS, Cloudinary for images/video
**Domain:** aynparkerusry.com
**Repo:** https://github.com/mikeusry/apu2028.git
**Hosting:** Vercel
**Docs:** See `/docs/index.md` for full documentation

## Key Information
- **Player:** Ayn Parker Usry, Class of 2028, Outfielder
- **Travel Team:** Stars National Walker (Navy/White colors)
- **School:** Prince Avenue Christian School (current), Liberty University Online Academy (starting January 2026)
- **NCAA ID:** 2509718485
- **Stats (Fall 2025):** .380/.438/.922, Team 24-7-2

## Cloudinary Setup
- **Cloud Name:** southland-organics
- **Folder:** AynParkerUsry
- No API keys needed - using public delivery URLs only

---

## Last Session: December 28, 2025 (Night)

### Accomplished

1. **Coach Visits Dashboard - Production Ready**
   - Cleared mock/test data, now uses real Vercel KV data
   - Removed login screen - dashboard loads directly
   - Fixed Astro script issues (IIFE wrapping, global functions)
   - Connected Upstash Redis via Vercel Marketplace

2. **Upstash Redis Setup**
   - Database: `upstash-kv-lime-village`
   - Connected to Vercel project with auto-injected env vars
   - Faster than Supabase for simple key-value analytics

3. **Tracking Improvements**
   - Filtered out Vercel screenshot bot (Santa Clara visits)
   - Renamed `tracker.js` → `analytics.js` (ad blockers block "tracker")
   - Added video source element detection
   - Added debug console logs

### Known Issues (TODO)

1. **Video tracking not working** - play events not detected
2. **30s+ engagement not firing** - timer/alert not triggering
3. **Ad blockers** - Some browsers still blocking analytics.js
   - Pageviews work, but advanced tracking (video, engagement) doesn't
   - Need to test in incognito without extensions

### Git State
- All changes committed and pushed
- Latest commit: `57cb8a1 fix: Rename tracker.js to analytics.js`

### Build Status
- ✅ Build succeeds
- ✅ Deployed to Vercel
- Dashboard: https://www.aynparkerusry.com/coach-visits

---

## Previous Session: December 28, 2025 (Evening)

### Accomplished

1. **Notion Database Enhancements**
   - Added `Questionnaire URL` field to Softball Schools database
   - Updated Choice 1-2 schools with:
     - Twitter/X handles (all schools now have handles)
     - Questionnaire URLs for recruiting forms
   - Fixed USF handle (was missing): @USFSoftball

2. **Architecture Decision: NO Supabase for Recruiting**
   - Current scale (~100 schools, ~40 coaches, 2 years) doesn't need it
   - Supabase/pgvector makes sense for point.dog clients (1000s of customers)
   - For Ayn's recruiting: Notion handles this fine
   - **Keep current setup:** Notion (CRM) + Vercel KV (tracking) + usry-daily-digest (emails)

3. **Database ID Reconciliation**
   - Discovered apu2028 had WRONG Notion database IDs
   - Corrected to match usry-daily-digest and 1Brain/AynParker
   - All three repos now use same IDs

4. **Claude Code Settings**
   - Added `mcp__notion__*` to auto-approve permissions
   - Location: `~/.claude/settings.local.json`

5. **NBA Emails Confirmed Working**
   - usry-daily-digest already sends recruiting action items
   - `getRecruitingActions()` in notion.ts pulls from Recruiting Actions DB
   - No changes needed - system works

### Key Insight

The "point" system for Ayn is ALREADY BUILT:

- 1Brain/AynParker = context file (iCloud, not git)
- usry-daily-digest = Cloudflare Worker sending daily NBAs
- Notion = CRM with schools, contacts, events, actions
- No Supabase needed at this scale

---

## Previous Session: December 28, 2025 (Morning)

### Accomplished

1. **Phase 1 Complete: UTM Tracking & Enhanced Events**
   - Full UTM parameter support (source, medium, campaign, content, term)
   - High-value event tracking: resume downloads, email clicks, form submissions
   - Section view tracking via Intersection Observer
   - UTM source analytics in dashboard (pills showing traffic sources)

2. **Coach Visits Dashboard Enhanced** (`/coach-visits`)
   - Filter buttons: All, Videos, High Value, 30s+ Only, College Towns
   - High-value events highlighted with purple left border
   - UTM source pills showing campaign attribution
   - Live toggle with pulsing indicator

3. **Notion CRM Integration Started**
   - Notion confirmed as CRM (not Supabase) - data already exists
   - Added email templates to Recruiting Home page from Rachel Coleman/Stars National
   - Documented Notion database IDs in marketing plan

4. **Email Templates Captured** (in Notion Recruiting Home)
   - First Email layout/structure
   - Twitter/Social Media Email
   - September 1 Prep Emails (DI contact date)
   - Camp/Clinic Protocol
   - Seasonal Emails (winter training, holidays)
   - Phone Call Requests (converting emails to calls)
   - Source: Rachel Coleman - Stars National / softballrecruiting.com

5. **Marketing Plan Created** - `docs/recruiting/marketing-recruiting-plan.md`
   - Phase 1: UTM + Events ✅ COMPLETE
   - Phase 2: Notion Integration (geo-matching, interaction logging)
   - Phase 3: Email Engine with tracked links
   - Phase 4: Lead capture + automation

### Architecture Decisions

- **Notion = CRM** (20+ schools, 20+ coaches already populated)
- **Vercel KV = Tracking** (pageviews, video plays, UTM events)
- **Hybrid approach** avoids Supabase migration, keeps parent-friendly editing

### Notion Database IDs (CORRECTED - match usry-daily-digest)

- Recruiting Home: `61af5757-ce21-4bb0-b38c-a6a14b5ace4c`
- Softball Schools: `2bacee77-0ea4-807d-b261-000bd48d18ee` (was wrong!)
- College Contacts: `2a2cee77-0ea4-809f-b361-000bf2a8185a` (was wrong!)
- Recruiting Actions: `2d2cee77-0ea4-8131-9e02-f80f5612dce7`
- Softball Events: `5659e346-783b-47ef-83e2-d814be74759d` (was wrong!)
- Training Calendar: `5c95168a-118c-4f9c-bd0b-488016d1fdb1`

**NOTE:** IDs corrected Dec 28, 2025 - must match usry-daily-digest and 1Brain/AynParker

### Current Working State
- Build succeeds
- UTM tracking fully functional
- Dashboard with filters and high-value highlighting
- Email templates in Notion
- Ready for Phase 2: Notion geo-matching integration

### Key Recruiting Insights
See `docs/recruiting/wisdom.md` for full details. Key points:
- Junior year (Fall 2026) is THE recruiting window
- Must work out 6x/week - table stakes for D1
- Use camps strategically - cut useless ones
- Develop one "can't ignore" tool (speed + contact hitting)

---

## Previous Session: December 11, 2025

### Accomplished
1. **Fixed CSS padding issues** - Replaced custom `@apply` classes with direct Tailwind utilities (`pt-8 pb-8`) on all component containers to fix desktop padding not rendering
2. **Integrated Cloudinary Video** - Replaced Gumlet iframe with native HTML5 video using Cloudinary delivery
   - Video: `Triple_Impact_Caymol_Premier_tjrmwn`
   - Auto-quality and auto-format optimization
   - Auto-generated poster thumbnail
3. **Updated Contact Section**
   - Added both parents: Mike Usry & Karin Usry with emails
   - Added both travel coaches: Joe Walker & Adrian Diaz with emails
   - Added YouTube link (@APU-2028)
4. **Updated About Section** - Added athletic family background (both parents UGA student-athletes)
5. **Pushed to GitHub** - Initial commit to mikeusry/apu2028

### Current Working State
- Build succeeds without errors
- All sections rendering correctly:
  - Hero with Cloudinary profile image
  - Video player with Cloudinary video
  - Skills breakdown grid
  - Stats & measurables table
  - Schedule/events section
  - About section with bio
  - Contact section with player/parents/coaches
  - Footer
- Ready for Vercel deployment

### Technical Notes
- **CSS Gotcha:** Don't use `@apply` for padding in `@layer components` - Tailwind JIT may not compile them. Use direct utility classes instead.
- **Cloudinary Video URL format:** `https://res.cloudinary.com/{cloud}/video/upload/{transforms}/{publicId}.mp4`
- **Poster from video:** Use `so_0` (start offset 0) to grab first frame as poster image

### No Blockers

### TODOs for Future Sessions
- [ ] Add more highlight videos as they become available
- [ ] Update schedule with actual tournament dates
- [ ] Add real stats when available
- [ ] Add more skill showcase images to SkillsGrid
- [ ] Consider adding a photo gallery section
- [ ] Set up custom domain (aynparkerusry.com) in Vercel

---

## Contacts (for reference)
**Player:** aynparkerusry2028@gmail.com
**Parents:** mike@southlandorganics.com, karin@southlandorganics.com
**Coaches:** Starsnationalwalker@gmail.com, adriandiaz2307@gmail.com
